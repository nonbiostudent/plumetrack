<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Quickstart - Command Line &#8212; Plumetrack 18.05 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '18.05',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/plumetrack_32.ico"/>
    <link rel="top" title="Plumetrack 18.05 documentation" href="index.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Quickstart - Graphical User Interface" href="quickstart_gui.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quickstart_gui.html" title="Quickstart - Graphical User Interface"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Plumetrack 18.05 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="quickstart-command-line">
<h1>Quickstart - Command Line<a class="headerlink" href="#quickstart-command-line" title="Permalink to this headline">Â¶</a></h1>
<p>The Plumetrack distribution includes a few example images of Villarrica volcano in Chile along with an example configuration file, so that you can quickly get used to using the program. The following tutorial will guide you through processing these example images using the command-line version of Plumetrack. The commands listed are for Windows users, Linux users need to substitute blackslashes for forward slashes. If you do not have the example images (they are in the examples folder of the source distribution) then you can download them seperately as a zip file <a class="reference external" href="http://ccpforge.cse.rl.ac.uk/gf/project/plumetrack/frs">here</a>.</p>
<p>To start, open a terminal and change directory to the examples folder of the Plumetrack distribution:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">cd</span> <span class="n">Desktop</span>\<span class="n">plumetrack</span>\<span class="n">examples</span>
</pre></div>
</div>
<p>Then run the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">plumetrack</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<p>This should print a summary of commands that can be passed to the Plumetrack program and what they mean. Now lets calculate some SO2 fluxes from the images. To do this, we will use the settings stored in the villarrica.cfg configuration file, which is provided in the examples folder. If you want to see what these settings are, you can open the villarrica.cfg file in a text editor. Full details of the configuration file format and what each of the settings does can be found in the <a class="reference internal" href="configuration.html#section-configuration"><span class="std std-ref">Configuration</span></a> section of this documentation. To calculate the fluxes run the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">plumetrack</span> <span class="o">-</span><span class="n">f</span> <span class="n">villarrica</span><span class="o">.</span><span class="n">cfg</span> <span class="n">villarrica</span>
</pre></div>
</div>
<p>You should see some output much like that shown below:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201858</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">58</span>     <span class="mf">1.309653</span>        <span class="mf">5.281623</span>
<span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201901</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">01</span>     <span class="mf">1.036180</span>        <span class="mf">5.580733</span>
<span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201905</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">05</span>     <span class="mf">1.006966</span>        <span class="mf">8.075319</span>
<span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201908</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">08</span>     <span class="mf">0.721419</span>        <span class="mf">3.970559</span>
<span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201912</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">12</span>     <span class="mf">1.063230</span>        <span class="mf">5.777029</span>
<span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201915</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">15</span>     <span class="mf">0.822753</span>        <span class="mf">5.840344</span>
<span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201919</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">19</span>     <span class="mf">1.080163</span>        <span class="mf">5.159438</span>
<span class="n">villarrica</span><span class="o">/</span><span class="mi">20120208</span><span class="n">_201922</span><span class="o">.</span><span class="n">png</span>  <span class="mi">2012</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">22</span>     <span class="mf">0.718293</span>        <span class="mf">7.151379</span>
</pre></div>
</div>
<p>The lefthand three columns give the filename, capture date and time of each image, and the righthand columns give the SO2 flux across our integration line (in kg per s) and the associated percentage error. If you define multiple integration lines, then there will be additional columns to the right (one flux column and one error column for each integration line).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to write the fluxes to file (rather than printing them to the screen) you can use the <code class="docutils literal"><span class="pre">-o</span></code> option. The filename you use can contain the Python <a class="reference external" href="https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior">date/time format specifiers</a> so that large amounts of output can be split accross many files. For example, if you want your output to be automatically split into daily files you could use <code class="docutils literal"><span class="pre">-o</span> <span class="pre">%Y/%m/%d_fluxes.txt</span></code> which will create a folder structure of &lt;year&gt;/&lt;month&gt;/&lt;day&gt;_fluxes.txt.</p>
</div>
<p>If your PC has multiple processing cores (as most modern PCs do), you might be interested in the <code class="docutils literal"><span class="pre">-p</span></code> option for Plumetrack. Try running the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">plumetrack</span> <span class="o">-</span><span class="n">p</span> <span class="o">-</span><span class="n">f</span> <span class="n">villarrica</span><span class="o">.</span><span class="n">cfg</span> <span class="n">villarrica</span>
</pre></div>
</div>
<p>This time, there should be a pause before any of the fluxes are printed to your screen, and then they should all be printed at once. This is because Plumetrack has launched multiple processes to split the computation of the fluxes across all of your PCs processing cores. No results are printed until all the processes have completed. The time taken to compute all the fluxes should decrease approximately linearly with the number of processors/cores your PC has.</p>
<p>All this is very well, but it would be nice to see what is going on. For this we use the <code class="docutils literal"><span class="pre">--output_pngs</span></code> option. Run the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">plumetrack</span> <span class="o">-</span><span class="n">p</span> <span class="o">-</span><span class="n">f</span> <span class="n">villarrica</span><span class="o">.</span><span class="n">cfg</span> <span class="o">--</span><span class="n">output_pngs</span><span class="o">=</span><span class="n">output</span> <span class="n">villarrica</span>
</pre></div>
</div>
<p>When the command completes, you should find that a new folder called <em>output</em> has been created containing images which show plots of the UV images in the villarrica folder. The colour scale on the plots is the pixel values of the raw images (ppm.m in this case). The estimated velocity vectors are plotted as black arrows, and the integration line is shown in white.</p>
<p>You can now play with some of the settings in the configuration file and observe what effect they have on the produced velocity field/fluxes. Although the configuration file is a plain text file and can be edited directly, it is much easier to edit/create them using the graphical application that comes with Plumetrack. To launch the graphical application run the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">plumetrack</span><span class="o">-</span><span class="n">gui</span>
</pre></div>
</div>
<p>Note that you can pass the name of the configuration file that you want to work with as a commandline argument if you want to e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">plumetrack</span><span class="o">-</span><span class="n">gui</span> <span class="n">villarrica</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
<p>For information on using the graphical interface see <a class="reference internal" href="quickstart_gui.html#section-gui-quickstart"><span class="std std-ref">Quickstart - Graphical User Interface</span></a>.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/plumetrack.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="quickstart_gui.html"
                        title="previous chapter">Quickstart - Graphical User Interface</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="next chapter">Configuration</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/quickstart_cmdline.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="quickstart_gui.html" title="Quickstart - Graphical User Interface"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Plumetrack 18.05 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Nial Peters.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>