<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>plumetrack package &#8212; Plumetrack 18.05 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '18.05',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/plumetrack_32.ico"/>
    <link rel="top" title="Plumetrack 18.05 documentation" href="index.html" />
    <link rel="up" title="API" href="API.html" />
    <link rel="next" title="plumetrack.gui package" href="plumetrack.gui.html" />
    <link rel="prev" title="API" href="API.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plumetrack.gui.html" title="plumetrack.gui package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="API.html" title="API"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Plumetrack 18.05 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="API.html" accesskey="U">API</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="plumetrack-package">
<h1>plumetrack package<a class="headerlink" href="#plumetrack-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="plumetrack.gui.html">plumetrack.gui package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plumetrack.gui.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="plumetrack.gui.html#module-plumetrack.gui.artwork">plumetrack.gui.artwork module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plumetrack.gui.html#module-plumetrack.gui.batch_processor">plumetrack.gui.batch_processor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plumetrack.gui.html#module-plumetrack.gui.interactive_viewer">plumetrack.gui.interactive_viewer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plumetrack.gui.html#module-plumetrack.gui.main">plumetrack.gui.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plumetrack.gui.html#module-plumetrack.gui">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-plumetrack.dir_iter">
<span id="plumetrack-dir-iter-module"></span><h2>plumetrack.dir_iter module<a class="headerlink" href="#module-plumetrack.dir_iter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="plumetrack.dir_iter.AsyncFileFinder">
<em class="property">class </em><code class="descclassname">plumetrack.dir_iter.</code><code class="descname">AsyncFileFinder</code><span class="sig-paren">(</span><em>path</em>, <em>recursive=False</em>, <em>pattern='*'</em>, <em>skip_links=True</em>, <em>full_paths=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#AsyncFileFinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.AsyncFileFinder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="plumetrack.dir_iter.AsyncFileFinder.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#AsyncFileFinder.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.AsyncFileFinder.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the search for files and causes any calls to next() to raise
StopIteration</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.dir_iter.AsyncFileFinder.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#AsyncFileFinder.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.AsyncFileFinder.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Method required by iterator protocol. Returns the next filename found
or raises StopIteration if there are no files left to list (or if 
close() has been called on the iterator.</p>
<p>Note that if the iterator was created with the realtime option set to 
True, then this method will block until a new file is detected (or until
close() is called).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="plumetrack.dir_iter.ListDirIter">
<em class="property">class </em><code class="descclassname">plumetrack.dir_iter.</code><code class="descname">ListDirIter</code><span class="sig-paren">(</span><em>directory</em>, <em>realtime=False</em>, <em>skip_existing=False</em>, <em>recursive=False</em>, <em>sort_func=None</em>, <em>test_func=None</em>, <em>max_n=None</em>, <em>pattern='*'</em>, <em>full_paths=False</em>, <em>skip_links=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#ListDirIter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.ListDirIter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="plumetrack.dir_iter.ListDirIter.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#ListDirIter.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.ListDirIter.close" title="Permalink to this definition">¶</a></dt>
<dd><p>This is only needed if the iterator was created with the realtime option
set to True. Calling close() stops the iterator from waiting for new
files and causes any pending calls to next() to raise StopIteration.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.dir_iter.ListDirIter.get_current_position">
<code class="descname">get_current_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#ListDirIter.get_current_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.ListDirIter.get_current_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of number of filenames already returned and number of 
filenames remaining to be returned. Note that due to the asynchronous
nature of the iterator the latter of these numbers may be entirely
fictional.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.dir_iter.ListDirIter.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#ListDirIter.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.ListDirIter.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Method required by iterator protocol. Returns the next filename found
or raises StopIteration if there are no files left to list (or if 
close() has been called on the iterator.</p>
<p>Note that if the iterator was created with the realtime option set to 
True, then this method will block until a new file is detected (or until
close() is called).</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="plumetrack.dir_iter.find_files">
<code class="descclassname">plumetrack.dir_iter.</code><code class="descname">find_files</code><span class="sig-paren">(</span><em>path</em>, <em>recursive=False</em>, <em>pattern='*'</em>, <em>skip_links=True</em>, <em>full_paths=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/dir_iter.html#find_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.dir_iter.find_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of files in a directory with various filter options applied.</p>
<blockquote>
<div><ul>
<li><p class="first">path - the directory to search for files</p>
</li>
<li><p class="first">recursive - boolean controls whether to search sub-directories or not</p>
</li>
<li><p class="first">pattern - Unix &#8220;glob&#8221; type pattern to match for filenames.</p>
</li>
<li><p class="first">skip_links - boolean controls whether links are followed or not</p>
</li>
<li><dl class="first docutils">
<dt>full_paths - boolean controls whether the filenames returned are full</dt>
<dd><p class="first last">paths or relative paths.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-plumetrack.flux">
<span id="plumetrack-flux-module"></span><h2>plumetrack.flux module<a class="headerlink" href="#module-plumetrack.flux" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="plumetrack.flux.FluxEngine1D">
<em class="property">class </em><code class="descclassname">plumetrack.flux.</code><code class="descname">FluxEngine1D</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngine1D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngine1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plumetrack.flux.FluxEngineBase" title="plumetrack.flux.FluxEngineBase"><code class="xref py py-class docutils literal"><span class="pre">plumetrack.flux.FluxEngineBase</span></code></a></p>
<dl class="method">
<dt id="plumetrack.flux.FluxEngine1D.compute_flux">
<code class="descname">compute_flux</code><span class="sig-paren">(</span><em>current_image</em>, <em>next_image</em>, <em>flow</em>, <em>delta_t</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngine1D.compute_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngine1D.compute_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fluxes and associated errors across each defined integration 
line.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="plumetrack.flux.FluxEngine2D">
<em class="property">class </em><code class="descclassname">plumetrack.flux.</code><code class="descname">FluxEngine2D</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngine2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngine2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plumetrack.flux.FluxEngineBase" title="plumetrack.flux.FluxEngineBase"><code class="xref py py-class docutils literal"><span class="pre">plumetrack.flux.FluxEngineBase</span></code></a></p>
<dl class="method">
<dt id="plumetrack.flux.FluxEngine2D.compute_flux">
<code class="descname">compute_flux</code><span class="sig-paren">(</span><em>current_image</em>, <em>next_image</em>, <em>flow</em>, <em>delta_t</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngine2D.compute_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngine2D.compute_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fluxes and associated errors across each defined integration 
line.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.flux.FluxEngine2D.find_flux_contributions">
<code class="descname">find_flux_contributions</code><span class="sig-paren">(</span><em>flow</em>, <em>integration_line</em>, <em>poly_approx=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngine2D.find_flux_contributions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngine2D.find_flux_contributions" title="Permalink to this definition">¶</a></dt>
<dd><p>For every pixel in the image, computes whether its motion vector 
crosses the integration line and whether it crosses in a positive or 
negative direction. Returns an array the same size as the image, where 
each element is either 1 (positive contribution to flux), 0 (no 
contribution) or -1 (negative contribution to flux).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="plumetrack.flux.FluxEngineBase">
<em class="property">class </em><code class="descclassname">plumetrack.flux.</code><code class="descname">FluxEngineBase</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngineBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngineBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="plumetrack.flux.FluxEngineBase.compute_flux">
<code class="descname">compute_flux</code><span class="sig-paren">(</span><em>current_image</em>, <em>flow</em>, <em>delta_t</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngineBase.compute_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngineBase.compute_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be implemented by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.flux.FluxEngineBase.get_integration_lines">
<code class="descname">get_integration_lines</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngineBase.get_integration_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngineBase.get_integration_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of IntegrationLine objects that were defined in the config.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.flux.FluxEngineBase.get_pixel_size">
<code class="descname">get_pixel_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#FluxEngineBase.get_pixel_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.FluxEngineBase.get_pixel_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pixel size of the image in metres.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="plumetrack.flux.IntegrationLine">
<em class="property">class </em><code class="descclassname">plumetrack.flux.</code><code class="descname">IntegrationLine</code><span class="sig-paren">(</span><em>name</em>, <em>xpts</em>, <em>ypts</em>, <em>direction</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#IntegrationLine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.IntegrationLine" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="plumetrack.flux.IntegrationLine.get_length">
<code class="descname">get_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#IntegrationLine.get_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.IntegrationLine.get_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the cumulative length of all the line segments in pixels (not 
in metres!)</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.flux.IntegrationLine.get_n_points">
<code class="descname">get_n_points</code><span class="sig-paren">(</span><em>n=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#IntegrationLine.get_n_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.IntegrationLine.get_n_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an n by 2 array of of x y coordinates of points along the line.
If n==-1 then it returns the actual points of the line rather than
interpolating. Note that the points returned are in pixel coordinates, 
<em>not</em> line coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.flux.IntegrationLine.get_poly_approx">
<code class="descname">get_poly_approx</code><span class="sig-paren">(</span><em>n=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#IntegrationLine.get_poly_approx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.IntegrationLine.get_poly_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of arrays (startpoints, vectors, normals). Note that the
points returned are in pixel coordinates, <em>not</em> line coordinates.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="plumetrack.flux.ValueAndError">
<em class="property">class </em><code class="descclassname">plumetrack.flux.</code><code class="descname">ValueAndError</code><span class="sig-paren">(</span><em>value</em>, <em>error</em><span class="sig-paren">)</span><a class="headerlink" href="#plumetrack.flux.ValueAndError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">tuple</span></code></a></p>
<dl class="attribute">
<dt id="plumetrack.flux.ValueAndError.error">
<code class="descname">error</code><a class="headerlink" href="#plumetrack.flux.ValueAndError.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="plumetrack.flux.ValueAndError.value">
<code class="descname">value</code><a class="headerlink" href="#plumetrack.flux.ValueAndError.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="plumetrack.flux.compute_error_map">
<code class="descclassname">plumetrack.flux.</code><code class="descname">compute_error_map</code><span class="sig-paren">(</span><em>current_image</em>, <em>next_image</em>, <em>flow</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#compute_error_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.compute_error_map" title="Permalink to this definition">¶</a></dt>
<dd><p>This function attempts to estimate the error associated with an image pair 
and their corresponding motion field. It works by considering conservation of
mass. For each pixel in current_image, it uses the motion vector to compute
where the mass of SO2 in the pixel should end up - eventually creating a 
&#8220;modelled next image&#8221;. This is then compared to the real next image to 
estimate the error. The motion field is then used to map the errors back 
onto their source pixels in current_image.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.flux.create_flux_engine">
<code class="descclassname">plumetrack.flux.</code><code class="descname">create_flux_engine</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/flux.html#create_flux_engine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.flux.create_flux_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a flux engine object based on the values in config.</p>
</dd></dl>

</div>
<div class="section" id="module-plumetrack.image_loader">
<span id="plumetrack-image-loader-module"></span><h2>plumetrack.image_loader module<a class="headerlink" href="#module-plumetrack.image_loader" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="plumetrack.image_loader.ImageLoader">
<em class="property">class </em><code class="descclassname">plumetrack.image_loader.</code><code class="descname">ImageLoader</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/image_loader.html#ImageLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.image_loader.ImageLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="plumetrack.image_loader.ImageLoader.can_load">
<code class="descname">can_load</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/image_loader.html#ImageLoader.can_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.image_loader.ImageLoader.can_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if it looks like this file can be opened by the loader, 
False otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.image_loader.ImageLoader.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/image_loader.html#ImageLoader.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.image_loader.ImageLoader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the filename of an image returns a tuple of (image, time), where 
image is a numpy array containing the pixel data of the image, and time
is a datetime object representing the capture time of the image.</p>
<p>Subclasses should override this method to perform any preprocessing that
is required.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.image_loader.ImageLoader.time_from_fname">
<code class="descname">time_from_fname</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/image_loader.html#ImageLoader.time_from_fname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.image_loader.ImageLoader.time_from_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the filename of an image, returns a datetime object representing
the capture time of the image.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="plumetrack.image_loader.ImageLoaderError">
<em class="property">exception </em><code class="descclassname">plumetrack.image_loader.</code><code class="descname">ImageLoaderError</code><a class="reference internal" href="_modules/plumetrack/image_loader.html#ImageLoaderError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.image_loader.ImageLoaderError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception raised when a specified image loader cannot be found/loaded.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.image_loader.get_image_loader">
<code class="descclassname">plumetrack.image_loader.</code><code class="descname">get_image_loader</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/image_loader.html#get_image_loader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.image_loader.get_image_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an image loader object as defined in the config. This may be the 
default loader, or a custom one if that has been specified in the configuration.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.image_loader.validate_loader">
<code class="descclassname">plumetrack.image_loader.</code><code class="descname">validate_loader</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/image_loader.html#validate_loader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.image_loader.validate_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the config contains a valid value for the custom_image_loader
(and the custom loader can be created successfully), False otherwise.</p>
</dd></dl>

</div>
<div class="section" id="module-plumetrack.main_script">
<span id="plumetrack-main-script-module"></span><h2>plumetrack.main_script module<a class="headerlink" href="#module-plumetrack.main_script" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="plumetrack.main_script.date2secs">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">date2secs</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#date2secs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.date2secs" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a datetime object into floating point number of seconds since the
epoch.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.main_script.flatten">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">flatten</code><span class="sig-paren">(</span><em>l</em>, <em>ltypes=(&lt;type 'list'&gt;</em>, <em>&lt;type 'tuple'&gt;)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#flatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduces any iterable containing other iterables into a single list
of non-iterable items. The ltypes option allows control over what 
element types will be flattened. This algorithm is taken from:
<a class="reference external" href="http://rightfootin.blogspot.com/2006/09/more-on-python-flatten.html">http://rightfootin.blogspot.com/2006/09/more-on-python-flatten.html</a></p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">flatten</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="go">[0, 1, 2, 3, 4, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,[</span><span class="mi">6</span><span class="p">,[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,[</span><span class="mi">9</span><span class="p">,[</span><span class="mi">10</span><span class="p">]]]]]]])</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,[</span><span class="mi">6</span><span class="p">,[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,[</span><span class="mi">9</span><span class="p">,[</span><span class="mi">10</span><span class="p">]]]]]]],</span> <span class="n">ltypes</span><span class="o">=</span><span class="p">())</span>
<span class="go">[1, [2, 3, [4, 5, [6, [7, 8, [9, [10]]]]]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)],</span><span class="n">ltypes</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">))</span>
<span class="go">[1, 2, (3, 4)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="plumetrack.main_script.main">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Calling this function executes the main plumetrack program. This is set as 
an entry-point in the setup.py script and so is called by the plumetrack 
executable (which is automatically generated by setuptools during installation).</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.main_script.parallel_process">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">parallel_process</code><span class="sig-paren">(</span><em>func</em>, <em>list_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#parallel_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.parallel_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the function &#8216;func&#8217; on all items in <a href="#id1"><span class="problematic" id="id2">list_</span></a> passing any additional
args or kwargs specified. The list elements are processed asyncronously
by as many processors as there are cpus. The return value will be a list
of the return values of the function in the same order as the input list.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.main_script.parallel_process_with_progress">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">parallel_process_with_progress</code><span class="sig-paren">(</span><em>progress_handler</em>, <em>func</em>, <em>list_</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#parallel_process_with_progress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.parallel_process_with_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as parallel_process, but with additional progress_handler argument 
which should be a callable. This will be called repeatedly during the 
parallel processing and passed a float (&lt;1.0) which shows the fraction of the
tasks that have been completed.</p>
<p>The progress_handler should return True if execution is to be continued. If 
False is returned, then execution will halt and None will be returned.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.main_script.process_image_pair">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">process_image_pair</code><span class="sig-paren">(</span><em>im_pair</em>, <em>image_loader</em>, <em>motion_engine</em>, <em>flux_engine</em>, <em>options</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#process_image_pair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.process_image_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the motion tracking and flux calculation on a single image pair.
This is split into a separate function to make facilitate parallel execution.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.main_script.run_mainloop">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">run_mainloop</code><span class="sig-paren">(</span><em>options</em>, <em>args</em>, <em>progress_handler=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#run_mainloop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.run_mainloop" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the main &#8220;do it&#8221; function of Plumetrack. It loads the relevant config
file and processes images in the specified folder accordingly.</p>
<p>The options and args arguments are those returned from the 
settings.parse_cmd_line() function. The progress_handler argument should be 
a callable which takes as its only argument a float which is the fraction of
images that have processed. It should return True if execution should continue
and False if execution should be cancelled.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.main_script.split">
<code class="descclassname">plumetrack.main_script.</code><code class="descname">split</code><span class="sig-paren">(</span><em>l</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/main_script.html#split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.main_script.split" title="Permalink to this definition">¶</a></dt>
<dd><p>splits the list l into n approximately equal length lists and returns
them in a tuple. if n &gt; len(l) then the returned tuple may contain
less than n elements.
&gt;&gt;&gt; split([1,2,3],2)
([1, 2], [3])
&gt;&gt;&gt; split([1,2],3)
([1], [2])</p>
</dd></dl>

</div>
<div class="section" id="module-plumetrack.motion">
<span id="plumetrack-motion-module"></span><h2>plumetrack.motion module<a class="headerlink" href="#module-plumetrack.motion" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="plumetrack.motion.MotionEngine">
<em class="property">class </em><code class="descclassname">plumetrack.motion.</code><code class="descname">MotionEngine</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/motion.html#MotionEngine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.motion.MotionEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="plumetrack.motion.MotionEngine.compute_flow">
<code class="descname">compute_flow</code><span class="sig-paren">(</span><em>current_image</em>, <em>next_image</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/motion.html#MotionEngine.compute_flow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.motion.MotionEngine.compute_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the Farneback algorithm to compute the flow field that maps pixels
in current_image, to pixels in next_image. Both image arguments should be
numpy arrays.</p>
</dd></dl>

<dl class="method">
<dt id="plumetrack.motion.MotionEngine.preprocess">
<code class="descname">preprocess</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/motion.html#MotionEngine.preprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.motion.MotionEngine.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any required preprocessing tasks on the image (should be called
prior to calling compute_flow()). Depending on the configuration,
preprocessing tasks may include thresholding the image and applying 
random noise masking.</p>
<p>The image argument should be a numpy array. Note that the preprocessing
is done in-place - modifying the array that is passed in.</p>
<p>Returns the mask array (boolean) showing which array elements were 
replaced with random noise.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-plumetrack.output">
<span id="plumetrack-output-module"></span><h2>plumetrack.output module<a class="headerlink" href="#module-plumetrack.output" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="plumetrack.output.create_motion_png">
<code class="descclassname">plumetrack.output.</code><code class="descname">create_motion_png</code><span class="sig-paren">(</span><em>image</em>, <em>velocities</em>, <em>output_filename</em>, <em>integration_lines</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/output.html#create_motion_png"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.output.create_motion_png" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and saves a PNG image showing the original image with the computed 
motion vectors and the integration line superimposed on the top. Note that 
the motion field will be downsampled to make the vectors visible on the plot.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.output.create_output_file">
<code class="descclassname">plumetrack.output.</code><code class="descname">create_output_file</code><span class="sig-paren">(</span><em>filename</em>, <em>im_dir</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/output.html#create_output_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.output.create_output_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new output file and writes the header data to it. Returns an open
file object.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>filename - the path of the new file. Subfolders required to create the</dt>
<dd><p class="first last">file will be created automatically.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>im_dir   - the image directory used in this plumetrack run (this is written</dt>
<dd><p class="first last">into the file header)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>config   - the configuration used for this plumetrack run (this also </dt>
<dd><p class="first last">gets written into the file header)</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="plumetrack.output.resample_velocities">
<code class="descclassname">plumetrack.output.</code><code class="descname">resample_velocities</code><span class="sig-paren">(</span><em>velocities</em>, <em>yn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/output.html#resample_velocities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.output.resample_velocities" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsamples the velocities array (an MxNx2 array) such that N=yn and M is 
such that the downsampled array has the same aspect ratio as the original.</p>
<p>For efficiency, nearest neighbour interpolation is used.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.output.save_velocity_array">
<code class="descclassname">plumetrack.output.</code><code class="descname">save_velocity_array</code><span class="sig-paren">(</span><em>arr</em>, <em>filename</em>, <em>format_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/output.html#save_velocity_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.output.save_velocity_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a numpy array object to the specified file using the specified format.</p>
<p>format can be &#8216;mat&#8217;, &#8216;npy&#8217; or &#8216;json&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.output.write_output">
<code class="descclassname">plumetrack.output.</code><code class="descname">write_output</code><span class="sig-paren">(</span><em>options</em>, <em>config</em>, <em>image_dir</em>, <em>times</em>, <em>filenames</em>, <em>fluxes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/output.html#write_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.output.write_output" title="Permalink to this definition">¶</a></dt>
<dd><p>If an output file was specified, then writes the image filename, time and
one SO2 flux entry for each integration line that was defined to the file.
If no output file was specified then writes this information to stdout.</p>
</dd></dl>

</div>
<div class="section" id="module-plumetrack.persist">
<span id="plumetrack-persist-module"></span><h2>plumetrack.persist module<a class="headerlink" href="#module-plumetrack.persist" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="plumetrack.persist.PersistentStorage">
<code class="descclassname">plumetrack.persist.</code><code class="descname">PersistentStorage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/persist.html#PersistentStorage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.persist.PersistentStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a reference to the global persistent storage class. Which can be 
used for storing settings across program restarts.</p>
</dd></dl>

</div>
<div class="section" id="module-plumetrack.settings">
<span id="plumetrack-settings-module"></span><h2>plumetrack.settings module<a class="headerlink" href="#module-plumetrack.settings" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="plumetrack.settings.ConfigError">
<em class="property">exception </em><code class="descclassname">plumetrack.settings.</code><code class="descname">ConfigError</code><a class="reference internal" href="_modules/plumetrack/settings.html#ConfigError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.ConfigError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.ValueError</span></code></p>
<p>Exception raised if the configuration file is invalid.</p>
</dd></dl>

<dl class="class">
<dt id="plumetrack.settings.CustomOptionParser">
<em class="property">class </em><code class="descclassname">plumetrack.settings.</code><code class="descname">CustomOptionParser</code><span class="sig-paren">(</span><em>exception_on_error</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/settings.html#CustomOptionParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.CustomOptionParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/optparse.html#optparse.OptionParser" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">optparse.OptionParser</span></code></a></p>
<dl class="method">
<dt id="plumetrack.settings.CustomOptionParser.error">
<code class="descname">error</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/settings.html#CustomOptionParser.error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.CustomOptionParser.error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="plumetrack.settings.OptionError">
<em class="property">exception </em><code class="descclassname">plumetrack.settings.</code><code class="descname">OptionError</code><a class="reference internal" href="_modules/plumetrack/settings.html#OptionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.OptionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.ValueError</span></code></p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.settings.get_default_config">
<code class="descclassname">plumetrack.settings.</code><code class="descname">get_default_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/settings.html#get_default_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.get_default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a default working config which can be used as a template for 
customisation.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.settings.is_config_file">
<code class="descclassname">plumetrack.settings.</code><code class="descname">is_config_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/settings.html#is_config_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.is_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if filename looks like a config file (i.e. is a JSON file) and 
returns False otherwise. This function is used to determine if we are loading
configs from a results file or a config file.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.settings.load_config_file">
<code class="descclassname">plumetrack.settings.</code><code class="descname">load_config_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/settings.html#load_config_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.load_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the configuration file and returns a dictionary of name:value pairs
that were specified in the file. This function calls validate_config on the 
configuration before returning it.</p>
<p>Configurations may be loaded either from config files, or from plumetrack
results files.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.settings.parse_cmd_line">
<code class="descclassname">plumetrack.settings.</code><code class="descname">parse_cmd_line</code><span class="sig-paren">(</span><em>args=None</em>, <em>exception_on_error=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/settings.html#parse_cmd_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.parse_cmd_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Function parses the command line input and returns a tuple
of (options, args). By default this function parses the sys.vargs, but a list
of command line arguments may be passed in using the args kwarg instead.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.settings.validate_config">
<code class="descclassname">plumetrack.settings.</code><code class="descname">validate_config</code><span class="sig-paren">(</span><em>config</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/settings.html#validate_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.settings.validate_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ConfigError if one or more of the configuration entries is 
invalid. This function checks that all necessary settings are defined, that 
they have the correct data type and that they are within sensible limits.</p>
</dd></dl>

</div>
<div class="section" id="module-plumetrack.watcher">
<span id="plumetrack-watcher-module"></span><h2>plumetrack.watcher module<a class="headerlink" href="#module-plumetrack.watcher" title="Permalink to this headline">¶</a></h2>
<p>The watcher module provides functions and classes for monitoring a directory
structure for new files. It uses system-level functions for detecting new files
(rather than repeatedly listing the files in a directory and looking for 
changes).</p>
<p>The following code shows how the watcher module can be used to print the names
of any new files created in a directory:</p>
<blockquote>
<div><p>from plumetrack import watcher
import sys
import time</p>
<dl class="docutils">
<dt>def print_name(s, t):</dt>
<dd>print s</dd>
<dt>if not watcher.can_watch_directories():</dt>
<dd>print &#8220;No directory watching implementation available.&#8221;
sys.exit()</dd>
</dl>
<p>dir_watcher = watcher.create_dir_watcher(&#8220;my_directory&#8221;, False, print_name)</p>
<p>dir_watcher.start()</p>
<p>#during the next minute, the names of any files created in &#8220;my_directory&#8221;
#will be printed
time.sleep(60)</p>
<p>dir_watcher.stop()</p>
</div></blockquote>
<dl class="class">
<dt id="plumetrack.watcher.LinuxDirectoryWatcher">
<em class="property">class </em><code class="descclassname">plumetrack.watcher.</code><code class="descname">LinuxDirectoryWatcher</code><span class="sig-paren">(</span><em>dir_name</em>, <em>func</em>, <em>recursive</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/watcher.html#LinuxDirectoryWatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.watcher.LinuxDirectoryWatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">plumetrack.watcher._DirectoryWatcherBase</span></code>, <code class="xref py py-class docutils literal"><span class="pre">pyinotify.ProcessEvent</span></code></p>
<p>Watcher class using inotify.</p>
<dl class="method">
<dt id="plumetrack.watcher.LinuxDirectoryWatcher.process_IN_CLOSE_WRITE">
<code class="descname">process_IN_CLOSE_WRITE</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/watcher.html#LinuxDirectoryWatcher.process_IN_CLOSE_WRITE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.watcher.LinuxDirectoryWatcher.process_IN_CLOSE_WRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="plumetrack.watcher.LinuxDirectoryWatcher.process_IN_CREATE">
<code class="descname">process_IN_CREATE</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/watcher.html#LinuxDirectoryWatcher.process_IN_CREATE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.watcher.LinuxDirectoryWatcher.process_IN_CREATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="plumetrack.watcher.LinuxDirectoryWatcher.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/watcher.html#LinuxDirectoryWatcher.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.watcher.LinuxDirectoryWatcher.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="plumetrack.watcher.LinuxDirectoryWatcher.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/watcher.html#LinuxDirectoryWatcher.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.watcher.LinuxDirectoryWatcher.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="plumetrack.watcher.can_watch_directories">
<code class="descclassname">plumetrack.watcher.</code><code class="descname">can_watch_directories</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/watcher.html#can_watch_directories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.watcher.can_watch_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if there is a directory watching implementation for
this system type.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.watcher.create_dir_watcher">
<code class="descclassname">plumetrack.watcher.</code><code class="descname">create_dir_watcher</code><span class="sig-paren">(</span><em>dir_name</em>, <em>recursive</em>, <em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack/watcher.html#create_dir_watcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.watcher.create_dir_watcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a watcher class suitable for this system type, or
None if no implementation is available.</p>
<ul>
<li><p class="first">dir_name - path to directory to be watched</p>
</li>
<li><p class="first">recursive - boolean specifying whether to watch subdirectories as well.</p>
</li>
<li><dl class="first docutils">
<dt>func - callable which will be called each time a new file is detected, </dt>
<dd><p class="first last">this will be passed the the full path to the created file, the 
creation time of the file (a datetime object), and any additional 
args or kwargs specified.</p>
</dd>
</dl>
</li>
<li><p class="first">args/kwargs - additional arguments to pass to func.</p>
</li>
</ul>
</dd></dl>

</div>
<div class="section" id="module-plumetrack">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-plumetrack" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="plumetrack.get_plumetrack_icons_dir">
<code class="descclassname">plumetrack.</code><code class="descname">get_plumetrack_icons_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack.html#get_plumetrack_icons_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.get_plumetrack_icons_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the full path to the directory where the Plumetrack icons
are stored.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.get_plumetrack_rw_dir">
<code class="descclassname">plumetrack.</code><code class="descname">get_plumetrack_rw_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack.html#get_plumetrack_rw_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.get_plumetrack_rw_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path used by plumetrack for things like caching settings,
storing templates etc. This is platform dependent, but on Linux it 
will be in ~/.plumetrack</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.get_plumetrack_sys_dir">
<code class="descclassname">plumetrack.</code><code class="descname">get_plumetrack_sys_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack.html#get_plumetrack_sys_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.get_plumetrack_sys_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path used by Plumetrack to store user independent 
files</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.have_gpu">
<code class="descclassname">plumetrack.</code><code class="descname">have_gpu</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack.html#have_gpu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.have_gpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if at least one CUDA capable GPU is detected on the system and
plumetrack has been built with GPU support. Returns False otherwise.</p>
</dd></dl>

<dl class="function">
<dt id="plumetrack.supermakedirs">
<code class="descclassname">plumetrack.</code><code class="descname">supermakedirs</code><span class="sig-paren">(</span><em>path</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plumetrack.html#supermakedirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plumetrack.supermakedirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a directory structure and with a certain set of access permissions
(ignoring the umask - unlike os.makedirs()). This function is copied from 
<a class="reference external" href="http://stackoverflow.com/questions/5231901/permission-problems-when-creating-a-dir-with-os-makedirs-python">http://stackoverflow.com/questions/5231901/permission-problems-when-creating-a-dir-with-os-makedirs-python</a></p>
<p>IMPORTANT: &#8220;mode&#8221; must be specified as an octal. So mode 777 should be passed
as 0777 or 0o777.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/plumetrack.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">plumetrack package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-plumetrack.dir_iter">plumetrack.dir_iter module</a></li>
<li><a class="reference internal" href="#module-plumetrack.flux">plumetrack.flux module</a></li>
<li><a class="reference internal" href="#module-plumetrack.image_loader">plumetrack.image_loader module</a></li>
<li><a class="reference internal" href="#module-plumetrack.main_script">plumetrack.main_script module</a></li>
<li><a class="reference internal" href="#module-plumetrack.motion">plumetrack.motion module</a></li>
<li><a class="reference internal" href="#module-plumetrack.output">plumetrack.output module</a></li>
<li><a class="reference internal" href="#module-plumetrack.persist">plumetrack.persist module</a></li>
<li><a class="reference internal" href="#module-plumetrack.settings">plumetrack.settings module</a></li>
<li><a class="reference internal" href="#module-plumetrack.watcher">plumetrack.watcher module</a></li>
<li><a class="reference internal" href="#module-plumetrack">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="API.html"
                        title="previous chapter">API</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plumetrack.gui.html"
                        title="next chapter">plumetrack.gui package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/plumetrack.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plumetrack.gui.html" title="plumetrack.gui package"
             >next</a> |</li>
        <li class="right" >
          <a href="API.html" title="API"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Plumetrack 18.05 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="API.html" >API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Nial Peters.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>